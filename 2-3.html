<html>
<head>
<title>????</title>
<meta charset="utf-8"/>
<script type="text/javascript" src="aes.js"></script>
<script type="text/javascript" src="scrypt.js"></script>
<script type="text/javascript" src="buffer.js"></script>
<script type="text/javascript" src="setImmediate.js"></script>
<script type="text/javascript" src="unorm.js"></script>
<style type="text/css">
body, html, iframe {width: 100%; height: 100%; margin: 0; padding: 0}
iframe { border: 0; }
#auth { position: absolute; top: 50%; left: 50%; z-index: 5; background: white; }
#auth_inner { 
    position: relative; left: -50%; top: -50%; border: dotted black 1px; background: white;
}
#progress { position: absolute; top: 50%; left: 50%; z-index: 2; background: white; }
#progress_txt { 
    position: relative; left: -50%; top: -50%; border: dotted black 1px; background: white;
}
td { padding: 5px; }
form { margin-block-end: 0; }
</style>


<!-- hi!  if you're reading this source code, there's not too much 
    interesting here (by design...).  If I put anything interesting in 
    the comments, it will go in the encrypted file, which will be a bit 
    more involved to access from the developer tools -->
</head>
<body>

<iframe id="wrap" src="javascript:void(0);"></iframe>

<div id="auth">
    <div id="auth_inner">
    <form onsubmit="return false;">
        <table>
            <tr>
                <td>Key</td>
                <td>
                    <input id="key"/>
                </td>
            <tr><td>&nbsp;</td>
                <td>
                    <button id="click">Unlock</button>
                </td>
            </tr>
        </table>
    </form>
    </div>
</div>

<div id="progress">
    <p id="progress_txt">Starting</p>
</div>

<script type="text/javascript">
const enc_html="af6fd34cf454fe7d0f299abd627b1e39d243a245331232fe27421e95b0c0783475bd2e3046808a95e2a2461656beafe76725f039df961a9772373485578e9d834ba6310c26c0a2b6253ba0a1fe2f77f266030ee9f0a7acb6ff9102699d0b33604c55607868a6bf3f61ea9997794ca751769ff8bacb98d6682425be3f0f0fb970ef901361cbab45db08f55a4f524c93d8856ef467163a7f7fbb7b6057c53b291776f207ace30311ee8944df4415f76578025520a1511bb98a5a2c971ac1f379a909b5b08d449bea0d87e9d29fc83b0277921e583672593a4c79cc65cce8a6d851d316b51df6999ba2191e6ee2cc8b6012700c859b5a2494ffff221d9f58ee115e2e58d68ecbd307701a10e9ae9b35860ce01a8ef866b3bf4facaa72851fb5fe8aaacbc15105f587ab1731ffab41d3c1bb0b8918675faa5eeac6292ae759199574e423e1eb1a73ef8b8521173032b57e3835d5fac735444879af9c96d83fec8a6ce8858d633cc2dab1a8f1cf50db7c344f11f0bd2ab8e0d8abfc13b345fa53a6f4052fc7867b0334d1bb12a493e23e12625441af02fa0c05527546889791b8f572fc63ca012291b8340246c7ad9df85745b36f81844f40b5a2a73ec5180d3d2c3d9f6634d99cbdccf86f62b795fc33e75bb56f32a80b40cd34cdddc304b4e61245442961c186972744233a2905898028c8a07762ca3eaa132300d72a3bd14c69f711f8605606b5726c6b8c39e1f79f5cec859ed4222e516021ed374be4054961f2d94fd1badeded649c198ae9debde10f052a678ce6ea6e07ddb242bfb9480e362a5acd2513937a0249e3a93156ee0716a9bbd759486493fbdc6be98484cac07f40ad8e6fd71ac63a3fd75ab07cfed28445d676fe4d60ab1d17bdf785f713d9802c2a11943e5153ed935fbec4667e0c7e4c46d3a57ebcd79531ca481f2bb89cee7683d387d347b4e1d53f6b05a1c2764e0de32702ec45f3cc760592b1f62c106eaac49fd6a86bfcfd8c756e6bd65079f94a74628bd47945c35825d031bade429f65be324fbdae1f73014802afaf7db485ed91254c8b0b3262c8f17b05b1a0a1badf24cb8f93e51ccdc8bd6c93eac0c28283c022b04390b70a92420a3fa184c4f24c8d19c3c09ae2c434f37e5cac534a7eb67fb6439bc6f10a2675f1dda6450dfe370d42d446d3f59763a7890d146a7447bcf1b01e59df916f66fffc58176c78b15e3c7b9dc194b486b20af818b4acc0a6493611130448a8632c54a61e3b0a8ac1f6edb230879f951793a904c922f621483579b0dbb4e5eb51d65f4b53fe8f3efe38fff68df24fd7c2147ca31f09e9b1e7a4879facb99f356bdba785927433dd2d92d74f5cb226effdbdefd23714f51e248dbc877e63f562e465dc783132f64ff1fb8ee2ab134b1f8accc1c058c20d2c136913f57f0fac559e69fcca55341cc669bc7f19cbe9d525e202b3ddd2b4f143778cfa0608af9629b10c63e8635da199fd74bd75aaa11608ebe00dc15f901078622aaf675e0586a082d086084b8ad1ec6bb01a05b7a2bfe7d7b48d172b9123921c279029e98b7228b120896c1012aec4809349915c7490b048a8fdaac0ddfc30e8f6bf6e318e246a8e0490ef26cabbad1d4d25d67e78457db75fadafcdb21f65893b21e65deccd5fdc5ca13bfbbdab15e7ce5716ad6f34f6ea4d465618eee2f71d520bb03e2da646852b760c3435c9dd180e1b5f3269605a46a5ba35d82c2f96bbcb65a13023ede22c254481254399225edfdf32f753081e06b2ea1ee192b65dd29a1cee8cc4266c17d6c8c353db69518144db446e76f59ba657d6589fe85df5262d76b58b93a72a821755fb812c6f70114773cf285b28d161e098f62d841e644309a4f8ff92f3d3ee0cb89e6440630a75ada9b2bb26aba0f9565dcc3a64894605a5991d641be774962eb37593894359b55a40ee6fe5efd1edb39842df6e3a3181488ff44844904bb83ec90206a0d3f05f05112f225b696602707a41ac305b5233c7236af48017038f9b202c8db3febd449701b045c7ffd0ad10fdb44273b7f254e6f82abfd9e4cebb2f2f017ae434a90c76eb22740f4bcc272d7bc6c8487b0da868fafce9a108d8d4c7ba124e73b9158d16cd277e49c9364fe8a90c906c54ce97368926692c156f5989836bb6e1a6ba195ddbb08e836abb7ce7ef2b25781b55e885b36922d85eb1118994fa83f33d11ae70a040e118860997c57dd9f00c6b86786f6017be832dd2c8a3323574ded798046d388cb86f16de80168dfc7da9ecc8236fe39650077daba8d645fd0bdd39772cfe3bd77f9219f3bf7ace4c3dea1a352356c78218c8882e6e0ddae6c5980457c9a2e10e5e09c7f003219ef44c9662b39d0368301b6c82c41816444bebbe83b24867ab1f0d306612d435a0acce7a71338f1d41a6669821dd869a8812f0a5ccc22cd755fd8febfa8c2632ab9911ff01d1fdc0321e36c4bde82a5f15cf77730b779412b0547104d6730e6a09da2b1ac8188e59949f0193b1c15183b6105744e5a23f22b7604aed18fc7c3c06672c52c65de0b349b429f623c6776eb0b6915452d2f549ccedc7a752b899ed83bf806a0f014ceee8a928b2f5fc88030d6dceb67f2b55732d3aaa5438d528e1a570e53ec1b04115c7f6e9b9942a987fa3f4960171f86fab0c2115069851a35ada8011954785457f6b99c314960289e2f38883d900293eeae63a415ca9e113e49bb38459121301b7692c3df667b54609f0afc9f0dc08fedfdd8799b6ac4970ee3ec75dc2534bf5f3625833c5333fd867288fea460cda1a13a3ff05cef0b86b574c13f9c88b565272ff98ef0fa997218c3e88d0f8d2d2ec1aa972ae7e72e86dbaa2d80981216c9d10945c9b3e2e92b593cf107b4d6fa8984712a72e7b97cd046283a5e44f8e8f5feefcde1b83cb16661fc1d39a5a107e2108195393373ac362111eb56bb81badd575242245d5e89c029c1746c00f7d2015c493c15cdf8abfc0185f124a6359471ee24865c405a56338ac9a9e471a70ff47b6ed2212f3717b8550f193352e2dd0010bd51a8de91f68e742fad66a3f76c943f8846252714e9aed010af27f7bf8f26c4ca97ed5b352b508385b27598c372a706699fa85ff9363dabe142c579f61f56e1f80081de6d811e25dbbfdb52a0f15b7b4bd62b5fb3d2c72dcc078cea10fb0ac774feabd33e09de4eace500671ae0020e2ec6a351491dc83e56b9fa7b865288cd319fed0681e001dbfc36e6d17291d64a803ea8a3b85f8bd94f8b0f92388da761c6090e88d53695e845fdaea6060259b541404939aec6bbe5e5b3c076df5059c56c53ed0814fbeaf0f1db7a745cbf545b7e9e8baf3c6e6ea04fc1faf7ba864ee88cbb89c91350be7395b050ac80b6357be9118a5b252a4c6f53ba7885980f046f9f97952d05e7c48e8a05c19ebaae76e3f92d373aca1e682848738825bbde33b90c57f5943340948aa419162830c8c055cd3889dc8318a12266892a42764ae8891f68d7be523d1780a2e39b3b5f69afe5738d7ac14ccf42a03842144addd8c6931364a09362d607abe2d4e3b80d3602521fd998fd62d4920d7c2deabc25f81ca6f8548d7906e8f035814ac1ed5b84e100853ae389032aa882ada346b8d367fcccac99592e967ed74136660c0927cc74caaa7a5c6e4ee9a8e88acf9f50e4628080e8de9a21dc3ac0b0c66a84f08cb970fa2416d7f81f20b4fa59ecce451106a0b7209b2b0ded527a260fd30927c6a55fc34f63bf15b855c9859e67c4d7d6d8b5da338d3d3044574e573db43216dd0f80f32aaf7a7c0f5025a07dfa97a0f1b14ea8f4ebd4ac63d0d13a5cbf80e04693e0a9993f6d27d331f68872ed41f51f142f5aa979799a3378f35622244b0512ff977bb1b14b25ab1b4244425709e4cab22e8061b81f9f9eee33b321873334b16bcc610da3ffcfbf7dc2a7c69bf9759e9ec47150ae92c6300637d093fdd9a226635c564951d5a6b655597ce451e14efe608e2778b6af626a4b1181235e1ce97e929512938bd0b319515188dc74e298f88bbbf80c9d198a08622552965d214fff74d0f065ee0e29842e18d3609ea4c2f74227fe5a385355bc868fe33b3f3a5817614ca4f69c8c9652885b57f524e32ba35fb2f27930f4b9d6dece268cd26e6d78d59e0254b5125d4cdfe842309e98a14e1e8d5342bf35eaaee94ddca30c1a7f0a4876c24eb0d7ba562b7571744631d9cc8582869cdb2c01de22ea5d02823062c81f50f0b7695985aea2a68ace97a0213bf194a5c433b1139af05e617588c3ce9183496abd2ab19cf04812a8e6b8cbcc0a0f61714c823aab5d34224baadb44f40d7aefa82bf957b35ba20090efdcff510d76114fe93bfdd2079fe58417425cc84e92b1cad8eb48e0ced10615ec5862d5c65d2616f61dd11f8dfb9fd3b1c8bafec9a80dddd5b4946263d58a6699860a41ef03e507b371fdb197351b651e43a5fe2b9413e2182498fccbdcb5125654d82ab4d38962734a8e53b72fa651aa9b75e30b5b8c527cbd574030feeb777df15a2a809a4b213ab1c5ab709b7cf2bc7442622b7eb64e855262c5434050f26fc6a40f7299e83adaa6433433bf2c0b782fd5cad2141dc1613b1b807bfa3abbe058b4b6b888d539e7a6a603afb20d1733262a235b51535821f2fe660fa49e7c60f679dcbd9f4134c47774371afd546072f9a29e590d5646b9ac272d8e743fc4d4663533850f88a2571de3ea75d711b95113329fee157ac916795a4ec4cdaa3a0f74cb5efb29470570af333cf0281dc16bd6ecd30866d8bf482a8bf7166b0c8f1e3f6436cd3e0687898ba2477bc71ae63c11ee070d08b0a0c0726bd7dfefbe89137fbc8a32c02d467da4c43de3cb5add8a45e436aaf4c9cfd48ec0d7645660a5bcd2c0adbb99fb0b8507aa4cc9aa4a127b604e2404ef7fd294be27060c0530c373f186e7b3ab2b5ab753862931414c5f44eb497a966a4cf61fbf10eea6517e6ae2d708ffd9d58401fac5dfd86fc0a8b9efd7e93a845b78b76eb5d54ea701b087d499afb99c7a1232c12fcfcf430360bb90b64c38152fd72b96eca60321e215bb6499147579fd04176a9cb3d8e15273e7de8a45dcf00b27f4b5dc79583ae9c4c92081c73cad6da704b10be78648b0fb456084afaea9fdc73cf3240f40c0a2e8f30a2d67b94dfc55c9800b151ca83a5905da75db3b58147b1f9792df335219c9d767fbb15ab2365488b60d0c948f18efb5ee2453243941c2218677e90bc4c19c129734902a7c4ea30e1381e3cbf45ae496a8d43680f56cf93704942f33cd4c3f3132db1098e2a7076cd3eda2007db1ea117398970e719e73f68306644d10d35000189e1e1f3318d4573ca541fad8043537ea05eb519448fde22f7b8d4519d4f2b8d5bc715158f5564f474dcaeb9064a329839f99172420ce6a43f87d2fe2232c4c655cca1c503429753e273798fdbf49295987b83259249556c52a0a2634069745bedefc885908b3c837efc44d14706ae3df8dc5689ece20cc692789d17848d07b08ce1a1fc9e6264c1c1983fddb69c4975fc4a3ec0ac1daca11d0730871fd6b79d9afe5f880a9e280318dd5cdec52bcfdfb27ef2bf91712b07e36ea933e1d4a5dbf300b7b64784c427d09adf95de5f237c935ae38bd3dd3203d8ec207489fd2d6952a988827d101b12d833d8bb9a46255a365aa01e7562ac446e1955952c127acde5cdc69e9a7f51fa781b0a4860f1402621e60bdda50fb448c74851d19c75ae7028b3bbf6aac8d1386b3e2d5239a0bc8c27f7b9c32e4ede852ea0a8174a5d1abca6fb223baac7bd320957fd7ba42909d1aa8ca378ec563d04f0f3e0753cea989841e8f396422920702c3ea0d818d7b1f38b9892c226ad66b3d41dadf97137011c0d4f7ad792ed9b1df72a254987ec779cd735ece0d30d1bb1062dcdf0de95dccdef6206ce259b5be1e4d0b7fb0458592433e19d0cbecebe6816f0b3a37a42d4be1af8474d6f9f343f29e12b46ae990f0db70b4764c9af294f178f1eb0ec0b2a37f25d991fea0d6b94e708b1a74fd945a4e5a40e8cf3e2013d5e3e4cd3a178b458e0539ca9e9ee9bb65deef9fe35ea223e6674b13807169f81ee10d91c7f1424657bd620b9508d3913beeca1bde002aaee82c823a504ab658a75c9ad4f30d4d6dc774cc22348acdb6e494fcfe743a75bd51c57e542532363c6604637522ae5cb061f93326719a9e19d50c4fe672735c237cb8714ccd0f832ccf0e0b9172d22c0f5735fd8f9044061385041d64beef1950c9565098d2b5f2226ce5f161e320a82d570fe536cbf3fdfdd5cb3c119d2cf025c935fe251ddb9b3e2d14e3beab8e8752295b5eee62828e4ff71347a19437d605ba42cfd4d7c6b401982a52f91b913410346db00317f55810d2a7f7d90b3dada0f16990f68ae3b11af5f842fd9a3afd82caf57d9db18e5c7069d9faf1e107897acec06c73591f6b8cebffad6196284243fb1bc353191fbb0df9be22e5daaf4fe279dbfc808344577112dc85edabf6315de0b6e2031b3475335ad2b58dcc83ec4947567a083e4505cafc5b783241c211b9aa241644e657f606350586ec93fbcb9c56bf10d0dd0c32e23fa69cae2a09dc2b990ea38d15a2db6a8ed2f168a4f72e19d40f7e1d71c44e9843314bee4907769e57cc90e712843574ae0ed3dae96456e360cba57a799fd7e2d1ae025dcadb8c318e8bf18ae7667d0975009b371c9dd494832bad851b92ab82857c71eebb4d3a3412b6544d7e4c4c81e62610a804c1bff984499477734cc6d8fe4c5355b777431fae8c975c1f617ceab4bf90bc7c6b6b209e671e429dcbfced452722dbe1ed879d2c7143e707dcc179ef39bc110b10b1daaefebb9c39a7cd2b60c2c775746b99a006e280dc6afb7f5cdca36fc82bc35f35a5a4167ca3d6aebca8aa1581fde65f9e7475c3141568f8b2f3448201cec45d3151f5dbaf6d6f02f5aaf6f3c7b290948fa3a5f08557a1c8b10fd30445c848fb7e69470bd8ca6ab95288f5615c683a3179246620fbe28f2a74641ffb7db2cf949fe05737c2274c5d162c6dbdba587dd143dae2357f8dd0ddf8ebd4cd22c2c408c79fd5f3485ef160a7ed4c79bde9bad88df1bf5e43668cd27fdce21741f8a14c4713daef85f650b8463293c5c2a7d8360d6affa028a0b098625bb4d68d20c666df8b223455aaba0932bb7dea8063f1f2ad0a6c78ce26b580e56d76796839ee9c28ff4534bbe2d2ac5ea4e96a6f8db81eefc6c86cebccbb9f4cafcf34def81e24bf0db13927928ccfca868be4f5582e276154f922e924c6ae8e9af37b9c4aa267eabccb55a0603a29b62abb939052c2fa594dac2d03bbf480f9e6d1327fb2343b72f233be9895fa86acf9a8d7e602837adae2da08cf61ae711ee1ca1a10ce239955caeb42b46ef4187b8a2ffcd80697a3f0a97f36e146627d857f19a9750bda5ce9baa11d3e7ea28518c7b9c915859df392140510e6d29ae2c515606304113bca7dcc5cb8d161eb4faff36606024d9efd250df11719389068b5301e08c10c62d22c5bf360b1e487d886284bf117458e30edd5804041f0c3c908586973d20a0be2ddc3e905c18dc0deac4ccf2175ec89aa4375e2a5184634d23c3033120c0d9a5593cc6a3b5c55c7b07d230b4ce289c023210cc49447039fb7f5f362e61f4de0eb999a56e8a49b3f994f542e2fd9f70cf30708b1656c0078f452ce2b1f5ad61d5a0ec66a3cfa697bc5f1417f3aaeb9e832272c53b8947d6423e47a2f92c4f6cc6e5d77e8940b6af1c0d99d0d1d393a4e5ab43e6542ac90db0097bf4565e4b44b3f720d848620c00ab127e78f07eb692eae288f3f242988241d5d03cf31b89838e0024a625b52a31b1555a7cdecbf0502f840612b1df02b8c5048ea915f4ee17291f58719f52ab5d42deeae9e080b590205236b3183e49cdc024d94a4d186440e6707c54cfb8943bfefb7c2bebdac7085e540578a65c4985e718ebbd0e6120aa20f6b13c20494e16f7b7c13861ac09d049ccd071be6019e3a212312aa2ee0df4979541133b210f0f2d88bbfc80669297821ae2594c2975f1c40a6ecac07c2474c7f97ff0fce7da5c4197dd370af8ae37adb6d52b047ce3b29f1f07342f85d2f7a1b324970499b3a65bae8bed813b003fbcb770a6368c696b0e8d8e5dc69ffe3ac6055ad1274d1e4c930efee59b10f2a7696537d945abb611496ea841040ba38e0984769ad1f458db5db31b778945755eb95b051b036a801ae3479f0d27b954d4a9477182e8b0f74a3e9d503e27416a57feb36a96450ea946f2e361efafaaa56369aab17d5a287d68a44c41ba538d9cde3b539d4a07303c7599bda5f7aad7ba3ea0dc538816d07714aedcacf050d455d86d456176082e77f8005d0b204fdab13440982b09dc28f00e3e7af6311f105727f9aec62c70ddd182806dd57f3a4b2c01d9b996e0f6d25a5645e2e4d51b8dea9697573f2238885ce45a9af419ce0e4be0c05b08037cba7fdb45141eb41fa149eae2a8b8b4732a11a2e74669aa929ae68af8b079f70d315057bfab8c8d487ff256eefd5f69e0eb5b83d39456b6b1fb3f6affe07340eccdafdf3f7b30dcd7fe129a4d99097908e63b5d0646797074c489469d92042528f6657c4267ae9050b6ed03405e7866ed6b1d0d2e944cc8a8fedb9c300b6206ae35d59fe4cfb733bbee58640216478d0af8dcdb905ce4a96ad4923bff82369af37715faa833c8e670658e4c162c566608c230e96a2839a0848de40d3f36dd270a561a215bd8a1915db8f820f0156513402ff588ac245b41d78fe58e82fffe0180691deab21bb122e8aecc857dcde6f0ee05e723be3cf7ad31e538ad0ebd0fdfd3ff1b49dfadc1176c52ce2e9792d07c0d97ab4113325f1a032cd780a9ecc45164e600089ffc61a49f54dd5f604e003031f498a323515561ade27f5b944d2724758745017e663ad343952a457f8ee195527322d58d3c6e6e472ae8644ec6961823778b0a10f37131ee884222aa95845d146b1fc3f63b38feead724fa8cbd240ba7cea4100e859e28e6e51dea3fdab5a65bd0f2e86815ad4adf58027d56154a5ff45ff32b0434bbb5a78c64a51eed19bc9dcb388092bad424729bb49ec56b6f7afcdf918a32c5d5d4ff0e4f68273c08fba90e3c4e4bab104c9bf55385590de064eecf3f567d3b8223799919c61c602fb85a34006662203a7f2df78a96648acb26d627be3760b3ad62042ebc2c6d76a7ce4bd3a186ec40929d836f21d272a3d5e7f904fed45b878bc218f252be53f9b79b1a42b8352d6a0026920371f5bffc6f7b7ea672f17b6457842a32a25f258484d0e63874593d455455734916734b65791dd166159ab591e2acfdda3e77f46938ee3cbff31c2b0e35c802abffab49c06132c0191b94b63e04617d177043ee7860d14067f7d0b40f54f52537ab4ba1b2be0b2adfb56e2dc88409e23a1ae4c3d62326e3c8e7752a5db57deaf7bb89dbf7491792d46774ecc95e28bd04f6b2c7347a737dfb1b8bf9b9beaf775568a5859770efce29c1beb0c3926b708dbbcea9b6280b23acd28c58c052bfe2061914b1d180c00bbdd63ce26545e3b3b5f27c37c9b640f36afce152abc96403b5b837a4429390338705c8da6e308b1b5c437f47b2895e9797ce6a309eecf73d48d261c67dad8affd42a0dc1d2bad5474641a21ab687ad3b5b1ac544a45199595ba2549898b402405ba511193969a9f1a633a57ecef7fbcf96241b4019c599862e452887950cc3b4ec20496f2e6c085e3da22ce526b49aa1247981fdc861c62e66783aa742ba73a912db247643f38798ae4db01613f3ffc2bb228308c68922c59d1343ff9150cd3d83b0f7267a196894331cbbfe41ccae751421a881c9d932e85f8f4d7952f534c8d72e3096a080bb7104abf5e40af1c69b3eca78b640179e699e44f7c19224bbbd85703799b676e8be83561cbcece19f60ab5b65e0aba1eb3ca524c9a6926f56b600df4c4bb653b6f8dde45c26218aab333adc0470ae85f28c65340fd39f06a88f6e15cc9fb7709d3958b0d7fee498630c4bcee8f5580063ed68d9137e117a95f9baa47ff4a4f6ec69e0d482fcae44fe44d6185744f9cf7067f02e7091d40cfa00fed594659962ac3ecea7c483480c0551db616fa513150e8db4836deb79be0837b7112de8fcfc98af347652186414fc08975c2f833719454c92da7a8260e20f9e95b840398db84c4d8bfa46ac73afa6c7439f4eabe3b506b9f5f972e0b217ddb77eae5eb04440b06f3df91722a7c3168a7207855fe71e331a20f7cbc0fee82aabe05beae8f63e974d07d6dc431f57a1c79ba6c7846460046c9c18a3f433f7f7f22897d03c42a5db9b7d85d3892b81786ee5bc94cce8204a4c51fd18cafdb728a625d5203c99eb5582fc35774f718ba3f2c33b193ddbea81811313b851ba441f5c0c71bbbff50e78675d2d236e890605299d77146f4aeb615f7f52899539286bb50f7a84a8332d661f291c25b6be3e8b3a63963dae87541af030915f6c5041c3f226a48305015425f060c4ccf970fd696e96e2f0dda4358ec40160c9fcaa5f8180a86e89cd77f254024bcb13217c55f39a6be5fee20ce3a4ebf9a8fd240e26fe03190db6d91bbd22b6f7b0b002bd3fe8574b7d9da9af3c74245d19840a1d1511edab13565d24cb0882594406cc1a6e6b428feab84ed1726cd0c1854cf3dff4f6b56e52418dac9fa12a3ad1594a3227421b6b2b3d8855a4f776822d448a9f5d3c08c971620eed9fdf6ebf3e65a9ab10c0c5a5d0146b561bb1c4a662bdf2ef26ea266fe61d9862a328fd7519c261ad05abdfdab06a2cf9f2253e491a2d92d923bce28a54c722a138d3929296f58a3bd66913a44063017343650e3a1aefcdedd1722c715f2fe925b5cf12848f07638cae4263ab8cc666befc5a7551699e0c6be38a6ce33f59102ef2e23ac0fcc263a7a13d9a6c52e4c870a97948c33854ae23905072806a851d1746eee7ff6b681dfe15720c2ba9921b33ca1fb718d26c08d0139c76c2a57d74fe2856d05cddc2ed82f4834c2ce9cba4836fccab4237e5ded126aafd86960334d4e7aae1d7f61269568c87618dff6fabac41af88b07f908c085e0d35a53264d22d8f6a6da456deaa6618ae3a1d1f9c026a3af6866f8955626cdda9cd02ee0d2b3069654c43b51fa915584b60704543fe1448ced163a0a6602604bcfd4c8ebe3fe370323ac82237b87855e1f7181fee77b89c5f5b82394d76b8c479523f93fe1a94771d5d8410fab3e6db015be882cf307273bad00108770a0bf98577b2f77c4f617b60780e3eda3073d8089c8b83e32b25c2885200908f1c31e1b6fe24f76fef543";
</script>

<script type="text/javascript">


function replaceIframeContent(iframeElement, newHTML)
{
    //iframeElement.src = "about:blank";
    iframeElement.contentWindow.document.open();
    iframeElement.contentWindow.document.write(newHTML);
    iframeElement.contentWindow.document.close();
}

function scryptProgress(progress) {
    console.log(progress);
    document.getElementById("progress_txt").innerHTML = "Deriving Key "+(progress*100).toFixed(0)+"%";
}

function unlockClick() {
    const usePasswd = true;
    document.getElementById('auth').style.visibility = 'hidden';
    if (usePasswd) { getKey(); }
    else {
        var key_hex = document.getElementById('key').value.trim();
        var key = aesjs.utils.hex.toBytes(key_hex);
        decrypt(key);
    }
}


function getKey() {
    const password = new buffer.SlowBuffer(document.getElementById('key').value.trim().normalize('NFKC'));
    const salt = new buffer.SlowBuffer("notveryhelpful".normalize('NFKC'));
    const N = 16384, r = 8, p = 1, dkLen = 32;
    const keyPromise = scrypt.scrypt(password, salt, N, r, p, dkLen, scryptProgress);
    keyPromise.then(function(key) {
        console.log("Derived Key (async): ", key);
        decrypt(key);
    });
}

// testing password password
// testing key f52ffec084851c44c02cb6085162da8a89c0046582845a27d56ee1f848dc2362
function decrypt(key) {
    console.log("decrypting");
    document.getElementById("progress_txt").innerHTML = "Decrypting Content";
    var iv = aesjs.utils.hex.toBytes("d919660371011176a7828400c1b240e0");

    var bytesEnc = aesjs.utils.hex.toBytes(enc_html);
    var aesCbc = new aesjs.ModeOfOperation.cbc(key, iv);
    var decryptedBytes = aesCbc.decrypt(bytesEnc);
    var decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
    //document.getElementById('wrap').src = "data:text/html;charset=utf-8," + escape(decryptedPage);
    //document.getElementById('wrap').innerHTML = decryptedPage;
    //$("#wrap").contents().find('html').html(decryptedPage);
    console.log(decryptedPage);
    replaceIframeContent(document.getElementById('wrap'), decryptedPage);
    document.getElementById('progress').style.visibility = 'hidden';
}
document.getElementById('click').onclick = unlockClick;
</script>

</body>
